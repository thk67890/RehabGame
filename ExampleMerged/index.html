<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Recovery Game with Pose Tracking</title>
    <link rel="stylesheet" href="mpStyles.css" />
    <!-- MediaPipe Pose and CameraUtils -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" ></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/pose/pose.js"></script>
</head>
<body>
    <div id="startScreen">
        <h1>Recovery Game</h1>
        <button id="startButton">Start Game</button>
        <button id="instructionsButton">How to Play</button>
        <button id="setup">Setup</button>
        <div id="instructions" style="display:none;">
            <p>Raise your leg to jump and bend your knee to move forward.</p>
        </div>
    </div>
    
    <canvas id="canvas1" width="800" height="720"></canvas>
    <!-- MediaPipe feed for pose tracking, made larger (400x300) -->
    <canvas id="mediapipeCanvas" width="400" height="300" style="position: absolute; bottom: 20px; right: 20px;"></canvas>

    <canvas id="calibrationCanvas" width="800" height="720"></canvas>
    
    <!-- Main game canvas -->


    <!-- Hidden video stream for MediaPipe input -->
    <video class="input_video" style="display:none;" autoplay></video>

    <!-- Images -->
    <img id="playerImage" src="player.png" style="display:none;">
    <img id="backgroundImage" src="large_scene_background.png" style="display:none;">
    <img id="obstacleImage" src="obstacle.png" style="display:none;">

    <audio id="backgroundmusic" src="backgroundmusic.mp3" preload="auto" autoplay loop muted></audio>
    <audio id="jumpSFX" src="jumpSFX.mp3" preload="auto"></audio>

    <!-- Game control script -->
    <script src="gameControl.js"></script>
</body>
</html>
